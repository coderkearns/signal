"use strict";var s=null,f={set:function(r){this._value=r,this._subscribers.forEach(function(n){return n()})},subscribe:function(r){var n=this;return this._subscribers.push(r),function(){n._subscribers.splice(n._subscribers.indexOf(r),1)}},destroy:function(){},valueOf:function(){return this()},toString:function(){return"".concat(this())}};export function use(r){var n=function(){return s!==null&&s.push(this),this._value};return Object.assign(n,f,{_value:r,_subscribers:[]}),n}function o(r){var n=s;s=[];var u=r(),t=s;return s=n,{signals:t,ret:u}}export function effect(r){var n=o(r).signals,u=n.map(function(t){return t.subscribe(r)});return function(){return u.forEach(function(t){return t()})}}export function derived(r){var n=o(r),u=n.signals,t=n.ret,i=use(t),c=function(){return i.set(r())},a=u.map(function(e){return e.subscribe(c)});return i.destroy=function(){return a.forEach(function(e){return e()})},i}
//# sourceMappingURL=index.js.map

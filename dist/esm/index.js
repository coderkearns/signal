"use strict";var f=function(){var o=function(n,r){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])},o(n,r)};return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");o(n,r);function t(){this.constructor=n}n.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}}(),i=null,l=function(o){f(n,o);function n(r){var t=o.call(this,"...args","return this._call(...args)")||this,e=t.bind(t);return t._value=r,t._subscribers=[],e}return n.prototype._call=function(){return i!==null&&i.push(this),this._value},n.prototype.set=function(r){this._value=r,this._subscribers.forEach(function(t){return t()})},n.prototype.subscribe=function(r){var t=this;return this._subscribers.push(r),function(){t._subscribers.splice(t._subscribers.indexOf(r),1)}},n.prototype.destroy=function(){},n.prototype.valueOf=function(){return this()},n.prototype.toString=function(){return"".concat(this())},n}(Function),p={};export function use(o){return new l(o)}function c(o){var n=i;i=[];var r=o(),t=i;return i=n,{signals:t,ret:r}}export function effect(o){var n=c(o).signals,r=n.map(function(t){return t.subscribe(o)});return function(){return r.forEach(function(t){return t()})}}export function derived(o){var n=c(o),r=n.signals,t=n.ret,e=use(t),s=function(){return e.set(o())},a=r.map(function(u){return u.subscribe(s)});return e.destroy=function(){return a.forEach(function(u){return u()})},e}
//# sourceMappingURL=index.js.map

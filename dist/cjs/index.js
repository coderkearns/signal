"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.effect=exports.s=exports.use=void 0;var _signals=null;function use(r){var e=[],t={get:function(){return _signals!==null&&!_signals.includes(t.subscribe)&&_signals.push(t.subscribe),r},get $(){return t.get()},set:function(n){r=n,e.forEach(function(u){return u()})},subscribe:function(n){return e.push(n),function(){e.splice(e.indexOf(n),1)}},destroy:function(){},valueOf:function(){return t.get()},toString:function(){return"".concat(t.get())}};return t}exports.use=use;function s(r){return r.get()}exports.s=s;function effect(r){_signals=[];var e=use(r()),t=function(){return e.set(r())},n=_signals.map(function(u){return u(t)});return e.destroy=function(){n.forEach(function(u){return u()})},_signals=null,e}exports.effect=effect;
//# sourceMappingURL=index.js.map

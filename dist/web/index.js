"use strict";var Signal=(()=>{var s=Object.defineProperty;var l=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var h=Object.prototype.hasOwnProperty;var _=(e,t)=>{for(var n in t)s(e,n,{get:t[n],enumerable:!0})},y=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of b(t))!h.call(e,o)&&o!==n&&s(e,o,{get:()=>t[o],enumerable:!(r=l(t,o))||r.enumerable});return e};var v=e=>y(s({},"__esModule",{value:!0}),e);var x={};_(x,{derived:()=>w,effect:()=>O,use:()=>f});var d=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=null,g=function(e){d(t,e);function t(n){var r=e.call(this,"...args","return this._call(...args)")||this,o=r.bind(r);return r._value=n,r._subscribers=[],o}return t.prototype._call=function(){return u!==null&&u.push(this),this._value},t.prototype.set=function(n){this._value=n,this._subscribers.forEach(function(r){return r()})},t.prototype.subscribe=function(n){var r=this;return this._subscribers.push(n),function(){r._subscribers.splice(r._subscribers.indexOf(n),1)}},t.prototype.destroy=function(){},t.prototype.valueOf=function(){return this()},t.prototype.toString=function(){return"".concat(this())},t}(Function);function f(e){return new g(e)}function a(e){var t=u;u=[];var n=e(),r=u;return u=t,{signals:r,ret:n}}function O(e){var t=a(e).signals,n=t.map(function(r){return r.subscribe(e)});return function(){return n.forEach(function(r){return r()})}}function w(e){var t=a(e),n=t.signals,r=t.ret,o=f(r),i=function(){return o.set(e())},p=n.map(function(c){return c.subscribe(i)});return o.destroy=function(){return p.forEach(function(c){return c()})},o}return v(x);})();
//# sourceMappingURL=index.js.map
